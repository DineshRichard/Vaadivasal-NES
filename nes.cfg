MEMORY {
    # Zero Page: $0000 - $00FF
    # Gives you the full 256 bytes for variables
    ZP:     start = $0000, size = $0100, type = rw, file = "";

    # RAM: $0100 - $07FF
    # $0100-$01FF is Stack. $0200 is usually Shadow OAM.
    # We define general RAM starting at $0300.
    RAM:    start = $0300, size = $0500, type = rw, file = "";

    # iNES Header: 16 bytes (prepended to file)
    HDR:    start = $0000, size = $0010, type = ro, file = %O, fill = yes, fillval = $00;

    # PRG ROM: $8000 - $FFFF (32KB)
    # This maps to the upper CPU memory
    PRG:    start = $8000, size = $8000, type = ro, file = %O, fill = yes, fillval = $00;

    # CHR ROM: $0000 - $1FFF (8KB)
    # This holds your graphics
    CHR:    start = $0000, size = $2000, type = ro, file = %O, fill = yes, fillval = $00;
}

SEGMENTS {
    # The iNES Header
    HEADER:   load = HDR, type = ro;

    # Zero Page Variables
    ZEROPAGE: load = ZP,  type = zp;

    # RAM Variables
    BSS:      load = RAM, type = bss, define = yes;

    # Main Game Code
    CODE:     load = PRG, type = ro,  start = $8000;

    # Read-Only Data (Music, Palettes)
    RODATA:   load = PRG, type = ro;

    # Interrupt Vectors (Reset, NMI, IRQ at $FFFA)
    VECTORS:  load = PRG, type = ro,  start = $FFFA;

    # Graphics (Pattern Tables)
    TILES:    load = CHR, type = ro;
}